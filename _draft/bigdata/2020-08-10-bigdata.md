---
layout: post
title: "大规模分布式系统架构与实现-读书笔记"
tagline: ""
date: '2020-08-10 18:59:50 +0800'
category: bigdata
tags: bigdata 大数据 分布式
keywords: bigdata,大数据,分布式系统,大规模分布式系统架构与实现-读书笔记
description: bigdata,大规模分布式系统架构与实现-读书笔记
---
> 大规模分布式系统架构与实现-读书笔记
# 引言
嘻嘻嘻 
<!-- more -->

# 关于分布式的一些概念与产品
- 离线计算：它不是技术，也不是产品，而是一种分布式计算应用方式。Hadoop应用大部分都是离线计算，也就是数据通常保存在分布式文件系统中，在离线状态下去分析这些数据，类似离线状态的数据分析有很多，日志分析也属于一种离线计算，很多数据挖掘算法也基于离线计算，通常离线计算要分析的数据量大，一般采用并行计算的方式提高效率
- 实时计算：实时计算大多指一种增量计算，尽量让计算过程在短时间完成，而不是先导入多少数据到一个存储位置，然后再花费数个小时去分析这些数据，这是跟离线计算的本质区别，实时计算是增量性的，少量的，变化的，来了就能计算。实时计算也是一种分布式计算应用方式。
- 迭代计算：这种方式使用Hadoop的Map/Reduce并不好弄，它有个最大的区别，就是需要考虑阶段，上一阶段的结果作为下一阶段的条件，而且为了高效，最好将中间结果保存在内存，不要频繁读写文件，迭代计算在数据挖掘聚类算法、机器学习算法等等有很多应用，主要因为这些算法需要大量训练，逐渐靠近精确结果，所以中间结果会作为下一轮条件。
## Storm
Storm是Twitter开源的一款用于实时分析的软件，Storm核心的消息通信和分布式协调都是使用其他软件，它依赖Apache Zookeeper、JZMQ(ZeroMQ)。Storm流计算，主要是指增量数据通过消息分发，多个消息接收者并行接收处理这样一个机制。
## Spark
Spark是加州伯克利大学的学生作品，是一款基于内存的用于迭代计算的框架。Spark建立在mesos的资源调度框架上。Spark用比较少的Scala代码实现，跟Hadoop基于分布式文件IO操作方式不同，Spark尽可能利用内存去做迭代计算，并用mesos管理机器资源分配。
## MPI
MPI(Message Passing Interface)是消息传递并行程序设计的标准之一，它是一个规范或者是一个库，但是不包括实现，目前最新版本为MPI-2(1997年发布)，MPI能完成并行机的进程间通信，当前实现版本有MIPCH2和OPENMPI，目前广泛用于互联网企业的广告算法和迭代算法，阿里和国内其他大型互联网公司都有成百上千的MPI计算集群。
MPI定义了进程间的通信接口，比如：mpi_send和mpi_recv等两个进程间发送和接收消息的常用接口，由此可见，基于MPI可以利用多个进程并行作业和交互，相对于上面介绍的Hadoop、Storm等计算平台，MPI能实现更灵活的并行计算方式，MPI更接近开发工具包和开发规范。
## BSP
Apache发布的并行计算软件Hama牵扯出了BSP(Bulk Synchronous Paarallel)思想，Hama基于BSP实现了google的Pregel的思想，提供一个相对于Map/Reduce和MPI更灵活的计算模式，大致由并行进程、消息通信层、栅栏同步层组成，并划分成一系列的superstep。官方资料强调BSP相对于MPI更侧重解决通信密集型计算，并对计算过程用一些参数指标，比如：进程数、进出消息数、消息大小等等，试图估计出整个计算需要耗费的时间。BSP相对于MPI的优化主要还是设计模式上，通信接口等优化不了什么。提出一个栅栏的设计，其实就是划分阶段和环节，用于迭代类型。还有就是基于消息的进程间通信交互，用发布接收消息模式代替点对点通信。、
## DAG
DAG(有向无环图)，微软的分布式计算平台Dryad的总体构建用来支持DAG(Directed Acycline Graph)类型的数据流的并行程序。

# 代码清单
行内代码应用 `code`
``\`bash
ls -alh
``\`

# 图片
![](){:width="100%"}
# 扩展
关于该问题的扩展
---
参考：
- []()
- []()
